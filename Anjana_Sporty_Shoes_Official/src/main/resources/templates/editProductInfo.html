<!doctype html>
<html lang="en"></html>
  	<head>
	    <!-- Required meta tags -->
	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	
	    <!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		
		<title>Products | Edit Info </title>
		<style>
			footer {
				position: fixed;
				left: 0;
			    bottom: 0;
			    width: 100%;
			    color: #fff;
			    text-align: right;
			}
		</style>
	</head>
	<body>
		<!-- NAVBAR -->
		<nav class="navbar navbar-expand-lg navbar-dark bg-info">
			<a class="navbar-brand" href="/home">Sporty Shoes Official</a>
			<ul class="navbar-nav mr-auto">
				<li class="nav-item active"><a href="/home"><button class="btn btn-info">Home</button></a></li>
				<li class="nav-item active"><a href="/listUsersPage"><button class="btn btn-info">List of Users</button></a></li>
				<li class="nav-item active"><a href="/addProductPage"><button class="btn btn-info">Add Product</button></a></li>
				<li class="nav-item active"><a href="/addCategoryPage"><button class="btn btn-info">Add Category</button></a></li>
				<li class="nav-item active"><a href="/myCart"><button class="btn btn-info">Cart</button></a></li>
				<li class="nav-item active"><a href="/checkoutDetails"><button class="btn btn-warning">Purchase Report</button></a></li>
			</ul>
			<ul class="navbar-nav ml-auto">
				<li class="nav-item active"><h4><span th:text="${session.username}"></span></h4></li>&nbsp;&nbsp;&nbsp;&nbsp;
				<li class="nav-item active"><a href="/logout"><button class="btn btn-danger">LogOut</button></a></li>
				</ul>
		</nav>
		<!-- NAVBAR -->

		<!--FORM-->
		<div class="container p-5"><div class="row">
			<div class="col-md-6"><div class="card"><div class="card-body">
				<h4 class="text-center text-warning">Edit Product Details</h4>
				<form th:action="@{/product/updateProductInfo}" method="POST" enctype="multipart/form-data">
					<div class="form-group">
						<label>ID</label>
						<input type="text" class="form-control" name="prod_id" th:value="${selectedProduct.prod_id}" readonly>
						<!--
						OR
							<span name="prod_id" th:text="${selectedProduct.prod_id}" readonly></span>
						-->
					</div>
					
					<div class="form-group">
						<label for="productName">Product Name</label>
						<input type="text" class="form-control" name="prod_name" th:value="${selectedProduct.prod_name}">
					</div>
					
					<div class="form-group">
						<label for="productDescription">Product Description</label>
						<textarea class="form-control" rows="4" cols="50" style="resize: none;" name="prod_desc" th:text="${selectedProduct.prod_desc}"></textarea>
					</div>
					
					<div class="form-group">
						<label for="categoryName">Category Name</label>
						<select class="form-control" id="category" name="category.id">
							<option>-- Select --</option>
							<option  th:value="${selectedProduct.category.category_id}" th:text="${selectedProduct.category.category_name}" selected></option>
							<option th:each="category : ${listCat}" th:value="${category.category_id}" th:text="${category.category_name}"></option>
						</select>
					</div>
					
					<div class="form-group">
						<label for="productPrice">Product Price</label>
						<input type="number" class="form-control" name="prod_price" th:value="${selectedProduct.prod_price}">
					</div>
					
					<div class="form-group">
				        <label for="productImage">Product Image</label>
				        <input type="file" class="form-control-file" name="image">
				    </div>
							    
					<button type="submit" class="btn btn-warning btn-block mt-4">Update Product</button>
				</form>
				</div></div></div>
				
				<div class="col-md-5 "><div class="card">
					<div class="card-body">
						<h4 class="text-center text-info">Product Image</h4>
						<image alt="image" th:src="*{'data:image/jpeg;base64,'+{selectedProduct.image}}" style="width:300px; height:300px;"></image>
					</div>
				</div></div>
			</div>
		</div>
		<!--FORM-->



		<!-- FOOTER -->
		<footer class="container-fluid bg-info active">
			<div>
				Sporty Shoes Official By Anjana Kizhiyapat &#169; 2023
			</div>
		</footer>
		<!-- FOOTER -->
	</body>
</html>